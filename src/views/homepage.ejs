<!DOCTYPE html>
<html>

<head>
  <title>Miracle's post Homepage</title>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width" initial-scale="1.0">
  <!-- <link rel="stylesheet" type="text/css" href="index.css"> -->
</head>

<body>
  <h1 align="center">Welcome to Miracle's post Homepage</h1>

  <h3 align="center">To Login / Sign up, Click <a href="/users/login">here</a></h3>
  <hr><br>
  <form align="right" action="/" method="GET">
    <label for="search">Search:</label>
    <input type="text" name="search" id="search" placeholder="Search posts...">
    <button type="submit">Search</button>
  </form>
  <hr>
  <% if (posts && posts.length > 0) { %>
  <ul align="center">
    <% posts.forEach(post => { %>
    <li>
      <h2><a href="/posts/<%= post._id %>"><%= post.title %></a></h2>
      <p>Description: <%= post.description %></p>
      <p>Published Date: <%= post.createdAt %></p>
      <p>Author:<a href="/users/<%= post.author %>"><%= post.author %></a></p>
    </li>
    <% }); %>
  </ul>

  <div>
    <p>Page <%= currentPage %> of <%= totalPages %></p>
    <p>Total posts: <%= total %></p>
    <% if (currentPage > 1) { %>
    <a href="?page=<%= currentPage - 1 %>">Previous</a>
    <% } %>
    <% if (currentPage < totalPages) { %>
    <a href="?page=<%= currentPage + 1 %>">Next</a>
    <% } %>
  </div>
  <% } else { %>
  <p>No published posts available.</p>
  <% } %>

</body>

</html>